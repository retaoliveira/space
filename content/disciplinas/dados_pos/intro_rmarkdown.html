---
date: 2019-05-05T00:00:00+01:00
draft: false
menu:
  dados_pos:
    parent: Unidade 2 - Documentos reprodutíveis
    weight: 18
title: Introdução ao RMarkdown
weight: 18
editor_options: 
  markdown: 
    wrap: 72
output: 
  blogdown::html_page:
    toc: true
    css: "/assets/css/custom.css"
type: docs
---

<script src="/places/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/places/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/places/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/places/rmarkdown-libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="/places/rmarkdown-libs/datatables-binding/datatables.js"></script>
<link href="/places/rmarkdown-libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="/places/rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="/places/rmarkdown-libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="/places/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/places/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
  <link rel="stylesheet" href="/assets/css/custom.css" type="text/css" />

<div id="TOC">
<ul>
<li><a href="#tldr">TL;DR</a>
<ul>
<li><a href="#o-que-é-markdown">O que é Markdown?</a></li>
<li><a href="#rmarkdown">RMarkdown</a>
<ul>
<li><a href="#formatação-de-texto">Formatação de texto</a></li>
<li><a href="#incluindo-tabelas">Incluindo tabelas</a></li>
<li><a href="#incluindo-figuras">Incluindo figuras</a></li>
<li><a href="#chunks"><code>chunks</code></a></li>
<li><a href="#visualização">Visualização</a></li>
<li><a href="#metadados---cabeçalho">Metadados - Cabeçalho</a></li>
<li><a href="#formatos-de-output">Formatos de output</a></li>
<li><a href="#divulgando">Divulgando</a></li>
</ul></li>
</ul></li>
<li><a href="#rode-o-seu-primeiro-documento-em-rmarkdown">Rode o seu primeiro documento em RMarkdown!</a></li>
</ul>
</div>

<p>Assita o vídeo! É impactante, baseado em fatos reais!</p>
<iframe width="738" height="400" src="https://www.youtube.com/embed/s3JldKoA0zw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div id="tldr" class="section level1">
<h1>TL;DR</h1>
<p>RMarkdown é uma linguagem para edição de textos que segue a sintaxe da linguagem Markdown. Sínteses e informações sobre essa linguagem RMarkdown podem ser encontradas nas seguintes cheatsheet que podem ser obtidas por meio do <a href="https://cefetmgbr-my.sharepoint.com/:f:/g/personal/renataoliveira_cefetmg_br/EjcsMqE7jmFHqGVdSfXuwBoBp66Q0iX1tWwDX8L3kMiyHQ?e=RSoWLP">link</a></p>
<div id="o-que-é-markdown" class="section level2">
<h2>O que é Markdown?</h2>
<p>Segundo o criador da linguagem:</p>
<blockquote>
<p>Markdown is a text-to-HTML conversion tool for web writers. Markdown allows you to write using an easy-to-read, easy-to-write plain text format, then convert it to structurally valid XHTML (or HTML).</p>
<p>John Gruber</p>
</blockquote>
<p>Dicas de sintaxe da linguagem Markdown podem ser encontradas em:</p>
<ul>
<li><a href="https://blog.da2k.com.br/2015/02/08/aprenda-markdown/">Sintaxe</a></li>
<li><a href="https://github.com/luong-komorebi/Markdown-Tutorial/blob/master/README_pt-BR.md">Tutorial</a></li>
</ul>
</div>
<div id="rmarkdown" class="section level2">
<h2>RMarkdown</h2>
<p>Vou colocar aqui algumas informações-chave sobre a construção geral de informações a partir do uso do RMarkdown. Entretanto, informações adicionais podem ser obtidas de maneira detalhada no site:</p>
<ul>
<li><a href="http://cursos.leg.ufpr.br/prr/capDocDin.html">Documentos dinâmicos no R by Fernando Mayer &amp; Walmes Zeviani</a></li>
</ul>
<div id="formatação-de-texto" class="section level3">
<h3>Formatação de texto</h3>
<ul>
<li>Textos em itálico são produzidos com um par de asteriscos <code>*Itálico*</code> ou de underscores <code>_Itálico_</code><br />
</li>
<li>Textos em negrito são produzidos com dois pares de asteriscos: <code>**Negrito**</code><br />
</li>
<li>Um par de acentos til produz texto subscrito: <code>CO~2~</code> vira CO2<br />
</li>
<li>Um par de acentos circunflexos produz texto sobrescrito: <code>x^2^</code> vira x2<br />
</li>
<li>Hyperlinks são criados com a sintaxe <code>[texto](link): Clique [aqui](https://www.google.com/)</code> vira Clique aqui<br />
</li>
<li>Imagens são inseridas com a sintaxe <code>![texto opcional](pasta/imagem.jpg)</code> ou <code>![texto opcional](link para imagem)</code></li>
</ul>
<div id="seções-e-subseções" class="section level4">
<h4>Seções e subseções</h4>
<p>Para demarcar seções e subseções, utilize os <code>hashtags</code>.</p>
</div>
<div id="listas-e-ordenação" class="section level4">
<h4>Listas e ordenação</h4>
<p>Basta enumerar:</p>
<ol style="list-style-type: decimal">
<li>Item 1</li>
<li>Item 2</li>
</ol>
</div>
</div>
<div id="incluindo-tabelas" class="section level3">
<h3>Incluindo tabelas</h3>
<p>Existem duas boas opções para produzir tabelas elegantes em documentos R Markdown:</p>
<p>A função <code>knitr::kable()</code></p>
<pre class="r"><code>iris %&gt;% 
  head() %&gt;% 
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<p>A função <code>knitr::kable()</code> acompanhada do pacote <code>kableExtra</code></p>
<pre class="r"><code>iris %&gt;% 
  head() %&gt;% 
  kableExtra::kable()</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right;">
Sepal.Length
</th>
<th style="text-align:right;">
Sepal.Width
</th>
<th style="text-align:right;">
Petal.Length
</th>
<th style="text-align:right;">
Petal.Width
</th>
<th style="text-align:left;">
Species
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
5.1
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
4.9
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
3.2
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
4.6
</td>
<td style="text-align:right;">
3.1
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
3.6
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
1.7
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
</tbody>
</table>
<p>E tabelas interativas por meio do pacote <code>DT</code>:</p>
<pre class="r"><code>iris %&gt;% 
  head() %&gt;% 
  DT::datatable()</code></pre>
<div id="htmlwidget-1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[5.1,4.9,4.7,4.6,5,5.4],[3.5,3,3.2,3.1,3.6,3.9],[1.4,1.4,1.3,1.5,1.4,1.7],[0.2,0.2,0.2,0.2,0.2,0.4],["setosa","setosa","setosa","setosa","setosa","setosa"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sepal.Length<\/th>\n      <th>Sepal.Width<\/th>\n      <th>Petal.Length<\/th>\n      <th>Petal.Width<\/th>\n      <th>Species<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>Informações sobre a configuração dos packages considerados porm ser encontrados nos links: <a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html"><code>kableExtra</code></a>, `</p>
</div>
<div id="incluindo-figuras" class="section level3">
<h3>Incluindo figuras</h3>
<p><img src="https://retaoliveira.github.io/relements/figures/rmarkdown_rockstar.png" alt="Figura 1: RMarkdown" />
Eu prefiro incluir figuras por meio de <code>chunk</code>, pois a parametrização do <code>chunk</code> permite configurar a figura:</p>
<pre class="r"><code>knitr::include_graphics(img1_path)</code></pre>
<p><a href="http://zevross.com/blog/2017/06/19/tips-and-tricks-for-working-with-images-and-figures-in-r-markdown-documents/">Dicas:</a></p>
</div>
<div id="chunks" class="section level3">
<h3><code>chunks</code></h3>
<p><code>chunks</code> são blocos de código que podem ser incluídos e rodados em um documento <code>.Rmd</code>. Os chunks precisam de uma formatação específicica e podem ser escritos em diferentes linguagens. A forma mais rápida de incluir um chunk para edição em <code>R</code> é o atalho <code>Ctrl + Alt + i</code>.</p>
<p>O <code>chunk</code> deve ser iniciado por ```<code>{r }</code> e alguns parâmetros definem opções para os <code>chunks</code>.</p>
<ul>
<li><p><code>eval</code>: tipo logical. Executar (TRUE) ou não (FALSE) o código do <code>chunk</code>.</p></li>
<li><p><code>echo</code>: tipo logical. Incluir o código do <code>chunk</code> ou não no documento compilado.</p></li>
<li><p><code>warning</code>, <code>message</code> e <code>error</code>: tipo logical. Caso <code>error = TRUE</code>, o documento será compilado mesmo que o chunk retorne um erro.</p></li>
<li><p><code>include</code>: tipo logical. Controla se o <code>chunk</code> e o output estarão presentes no documento final.</p></li>
<li><p><code>cache</code>: tipo logical. Controla se o <code>chunk</code> poderá usar cache para criar uma pasta com arquivos cacheados. Útil para chunks de códigos que levam muito tempo para rodar.</p></li>
</ul>
<pre class="r"><code>x &lt;- rnorm(30)
x</code></pre>
<pre><code>##  [1] -0.32972738  1.16117791  2.26034072  0.74318299 -0.75804129 -1.02467432
##  [7] -0.28828816  0.41249357 -0.76066461 -0.48611752 -1.07267414 -0.05772454
## [13]  0.66774852 -0.44754114  0.14494297 -0.13724039  1.03358648  1.04596705
## [19] -1.20399362 -0.42265358  1.58271507 -0.69097349 -0.33244468  0.89704688
## [25] -0.17761078  2.18072655  0.16031519 -0.86083197  0.81674857 -2.47120714</code></pre>
<p>Para definir uma opção da mesma maneira para todos os <code>chunks</code> do documento, é possível criar um <code>chunk</code> com o código <code>knitr::opts_chunk$set()</code>, como no exemplo abaixo:</p>
<p>As opções gerais de <code>chunks</code> podem ser encontradas no <a href="https://yihui.org/knitr/options/">link</a>.</p>
</div>
<div id="visualização" class="section level3">
<h3>Visualização</h3>
<pre class="r"><code>plot(x)</code></pre>
<p><img src="/places/courses/dados_pos/intro_rmarkdown_files/figure-html/unnamed-chunk-6-1.png" width="768" /></p>
<p>Também podemos fazer um histograma dessa variável simulada</p>
<pre class="r"><code>hist(x)</code></pre>
<p><img src="/places/courses/dados_pos/intro_rmarkdown_files/figure-html/unnamed-chunk-7-1.png" width="768" /></p>
</div>
<div id="metadados---cabeçalho" class="section level3">
<h3>Metadados - Cabeçalho</h3>
<div id="yaml-yet-another-markup-language" class="section level4">
<h4><code>YAML</code> (Yet Another Markup Language)</h4>
<p>No <code>YAML</code>, os dados são escritos em forma de lista aninhada. Os metadados em <code>YAML</code> são colocados sempre no início de um documento, e são delimitados por <code>---</code>.</p>
</div>
</div>
<div id="formatos-de-output" class="section level3">
<h3>Formatos de output</h3>
<ul>
<li>Compilar um documento em RMarkdown
<code>knitr</code></li>
</ul>
<p>Na <a href="https://rmarkdown.rstudio.com/gallery.html">galeria do RStudio</a> diferentes estruturas de informação produzida por meio de <code>RMarkdown</code> podem ser encontradas!</p>
<ul>
<li><p>beamer_presentation</p></li>
<li><p>html_document</p></li>
<li><p>ioslides_presentation</p></li>
<li><p>pdf_document</p></li>
<li><p>slidy_document</p></li>
<li><p>powerpoint_presentation</p></li>
<li><p>word_document</p></li>
</ul>
<pre class="r"><code>output:
  html_document:
    toc: true
    number_sections: yes
  pdf_document:
    keep_tex: true</code></pre>
</div>
<div id="divulgando" class="section level3">
<h3>Divulgando</h3>
<p>No RStudio, crie um novo documento <code>R Markdown</code> escolhendo <code>Arquivo | Novo | R Markdown</code>.
Clique no botão <code>Knit HTML</code> na barra de ferramentas do doc para visualizar seu documento.
Na janela de pré-visualização, clique no botão <code>Publicar</code>.</p>
<p>É um processo em duas etapas. Na primeira etapa, você precisa registrar uma conta <code>RPubs</code> ou fazer o login, caso já tenha uma. Você escreve o título de seu documento e dá uma breve descrição (para que outros possam encontrar seu trabalho a partir da busca).</p>
<p>Uma vez terminado e clicando no botão <code>Continue</code> na parte inferior, você irá diretamente para o artigo publicado.</p>
<p>Você pode optar por atualizar seu conteúdo.</p>
<hr />
</div>
</div>
</div>
<div id="rode-o-seu-primeiro-documento-em-rmarkdown" class="section level1">
<h1>Rode o seu primeiro documento em RMarkdown!</h1>
<ol style="list-style-type: decimal">
<li><p>Salve o <a href="https://cefetmgbr-my.sharepoint.com/:u:/g/personal/renataoliveira_cefetmg_br/ESP5b0WfqYJFplhjSRiciG0BNKQZnv2HzbHnPBxZEBr3Ew?e=gVcWCQ">arquivo</a> em um diretório que você consiga acessar depois. Sugiro criar um diretório para essa finalidade.</p></li>
<li><p>Abra o arquivo no RStudio: <code>File | Open File</code> e navegue até o arquivo <code>01-covid.Rmd</code> selecionando-o.</p></li>
<li><p>Você identificará o arquivo por meio do <code>YAML</code> com <code>title: "Mortes por COVID-19"</code></p></li>
<li><p>Verifique se houve alguma mensagem abaixo da barra de ferramentas da janela de edição do <code>RMarkdown</code> para que sejam instalados <code>packages</code> necessários para rodar esse <code>.Rmd</code></p></li>
<li><p>Clique no botão de <code>knitr</code>.</p></li>
</ol>
<p>Aprecie o seu primeiro documento!</p>
</div>
